{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Loader.vue?26b4","webpack:///./src/App.vue","webpack:///./src/components/Camera.vue","webpack:///./src/components/Camera.vue?b349","webpack:///./src/components/Receiver.vue","webpack:///./src/components/Receiver.vue?7496","webpack:///./src/components/Loader.vue","webpack:///./src/components/Loader.vue?1b4e","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/components/Receiver.vue?c2b9","webpack:///./src/components/Camera.vue?46fd","webpack:///./src/App.vue?a198"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_createElementVNode","class","$data","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","$options","_hoisted_4","$event","placeholder","onKeyup","_toDisplayString","_hoisted_5","_createVNode","_component_Loader","_createBlock","_component_Camera","onSendImage","code","_component_Receiver","ref","id","$props","autoplay","playsinline","onMousedown","onMousemove","onMouseup","props","emits","showLiveInterval","allowsScreenCapture","isRecordingScreen","crop","active","mounted","constraints","video","facingMode","audio","cameraView","getElementById","navigator","mediaDevices","getUserMedia","then","stream","srcObject","catch","log","getDisplayMedia","this","addEventListener","cancelCrop","unmounted","removeEventListener","methods","handleTakePicture","canvas","width","videoWidth","height","videoHeight","getContext","drawImage","dataURL","toDataURL","$emit","toggleMediaDevice","startCrop","startX","clientX","scrollX","startY","clientY","scrollY","moveCrop","endX","endY","cropMask","style","top","Math","min","left","abs","display","endCrop","handleTakeCropPicture","getBoundingClientRect","x","y","videoBasisSx","videoBasisSy","videoBasisWidth","videoBasisHeight","__exports__","_TransitionGroup","_Fragment","_renderList","imgData","index","substring","download","href","_hoisted_6","_hoisted_7","disabled","_hoisted_8","_hoisted_9","A4_PAPER","imgDataArray","copyKey","displayNumPhotos","clearAll","removeImg","ind","handleReceiveImage","imgDataSrc","copyImgToClipboard","fetch","res","blob","clipboard","write","ClipboardItem","imageDimsOnA4","makePDF","doc","jsPDF","deletePage","forEach","img","indexOf","imgW","$refs","imgH","imgWidthScaled","imgHeightScaled","addPage","addImage","pdfURL","output","open","swapArrayValues","ind1","ind2","_hoisted_18","socket","io","components","Camera","Receiver","Loader","cameraActive","receiverActive","sessionCode","joinSessionCode","joinSessionErr","socketIsConnected","on","receiver","serverCheck","setInterval","connected","clearInterval","handleNewSession","emit","handleJoinSession","handleSendImage","render","createApp","App","mount"],"mappings":"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","file":"js/app.842232c4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d216214\":\"cece44c1\",\"chunk-2d216257\":\"1caeb235\",\"chunk-75fe6287\":\"6ffe0058\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Loader.vue?vue&type=style&index=0&id=713d081c&scoped=true&lang=css\"","<template>\n  <div v-if=\"!cameraActive && !receiverActive\">\n    <div class=\"title\">\n      QuickDrop\n    </div>\n    <div v-if=\"socketIsConnected\">\n      <div>\n        <button @click=\"handleNewSession\" class=\"btn\">\n          New Session\n        </button>\n      </div>\n      <div class=\"or\">OR</div>\n      <div>\n        <div>\n          <button @click=\"handleJoinSession\" class=\"btn\">\n            Join Session\n          </button>\n        </div>\n        <input v-model=\"joinSessionCode\" placeholder=\"ABC9\" class=\"code-input\" @keyup.enter=\"handleJoinSession\"/>\n        <div>\n          {{joinSessionErr}}\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <Loader />\n    </div>\n  </div>\n\n  <Camera v-if=\"cameraActive\" @sendImage=\"handleSendImage\" :code=\"sessionCode\"/>\n  <Receiver v-else-if=\"receiverActive\" ref=\"receiver\"/>\n</template>\n\n<script>\nimport io from 'socket.io-client'\nimport Camera from './components/Camera.vue'\nimport Receiver from './components/Receiver.vue'\nimport Loader from './components/Loader.vue'\nconst socket = io(process.env.NODE_ENV === 'production' ? 'https://quick-drop.herokuapp.com' : 'http://localhost:3000')\n\nexport default {\n  name: 'App',\n  components: {\n    Camera,\n    Receiver,\n    Loader,\n  },\n  data() {\n    return {\n      cameraActive: false,\n      receiverActive: false,\n      sessionCode: '',\n      joinSessionCode: '',\n      joinSessionErr: '',\n\n      socketIsConnected: false,\n    }\n  },\n  mounted() {\n    socket.on('sessionCode', code => this.sessionCode = code)\n    socket.on('unknownSession', () => this.joinSessionErr = 'Invalid session code')\n    socket.on('initReceiver', () => this.receiverActive = true)\n    socket.on('receiveImage', (data) => this.$refs.receiver.handleReceiveImage(data))\n    const serverCheck = setInterval(() => {\n      if(socket.connected){\n        clearInterval(serverCheck)\n        this.socketIsConnected = true\n      }\n    }, 500)\n  },\n  methods: {\n    handleNewSession() {\n      socket.emit('newSession')\n      this.cameraActive = true\n    },\n    handleJoinSession() {\n      socket.emit('joinSession', this.joinSessionCode)\n    },\n    handleSendImage(imgData) {\n      socket.emit('sendImage', imgData)\n    },\n\n  }\n}\n</script>\n\n<style>\nbody, html{\n  padding: 0;\n  margin: 0;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n.title{\n  color: black;\n  font-weight: 800;\n  font-size: 42px;\n  padding-bottom: 25vh;\n  padding-top: 60px;\n}\n.btn{\n  background-color: orange;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  font-size: 24px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.btn:hover{\n  background-color:red;\n  transition: .5s all;\n}\n.or{\n  margin: 20px;\n}\n.code-input{\n  margin-top: 10px;\n  width: 70px;\n  font-size: 20px;\n}\n.code{\n  font-size: 20px;\n  margin: 10px;\n}\n</style>\n","<template>\r\n  <div v-if=\"code\" class=\"code\">\r\n    Code: {{code}}\r\n    <button v-if=\"allowsScreenCapture\" @click=\"toggleMediaDevice\" class=\"btn-picture toggle-media\">\r\n      {{isRecordingScreen ? 'Record Camera' : 'Record Screen'}}\r\n    </button>\r\n  </div>\r\n  <video id=\"camera-view\" autoplay playsinline @mousedown=\"startCrop\" @mousemove=\"moveCrop\" @mouseup=\"endCrop\"/>\r\n  <div>\r\n    <button @click=\"handleTakePicture\" class=\"btn-picture\">\r\n      Take Picture\r\n    </button>\r\n  </div>\r\n  <canvas id=\"canvas\" />\r\n  <div id=\"crop-mask\" />\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Camera',\r\n  props: ['code'],\r\n  emits: ['sendImage'],\r\n  data() {\r\n    return {\r\n      showLiveInterval: null,\r\n      allowsScreenCapture: false,\r\n      isRecordingScreen: false,\r\n\r\n      crop: {\r\n        active: false,\r\n      }\r\n    } \r\n  },\r\n  mounted() {\r\n    const constraints = { video: { facingMode: \"environment\" }, audio: false }\r\n    const cameraView = document.getElementById('camera-view')\r\n    navigator.mediaDevices\r\n    .getUserMedia(constraints).then((stream => {\r\n        cameraView.srcObject = stream\r\n    }))\r\n    .catch(e => console.log(e))\r\n\r\n    if (navigator.mediaDevices?.getDisplayMedia)\r\n      this.allowsScreenCapture = true\r\n\r\n    window.addEventListener('mouseup', this.cancelCrop)\r\n  },\r\n  unmounted() {\r\n    window.removeEventListener('mouseup', this.cancelCrop)\r\n  },\r\n  methods: {\r\n    handleTakePicture() {\r\n      const cameraView = document.getElementById('camera-view')\r\n      const canvas = document.getElementById('canvas')\r\n      canvas.width = cameraView.videoWidth\r\n      canvas.height = cameraView.videoHeight\r\n      canvas.getContext('2d')\r\n        .drawImage(cameraView, 0, 0, canvas.width, canvas.height)\r\n      const dataURL = canvas.toDataURL()\r\n\r\n      this.$emit('sendImage', dataURL)\r\n    },\r\n    toggleMediaDevice() {\r\n      const cameraView = document.getElementById('camera-view')\r\n      const constraints = { video: { facingMode: \"environment\" }, audio: false }\r\n\r\n\r\n      if (!this.isRecordingScreen) {\r\n        navigator.mediaDevices\r\n        .getDisplayMedia().then((stream => {\r\n          cameraView.srcObject = stream\r\n          this.isRecordingScreen = !this.isRecordingScreen\r\n\r\n        }))\r\n        .catch(e => console.log(e))\r\n      }\r\n\r\n      else {\r\n        navigator.mediaDevices\r\n        .getUserMedia(constraints).then((stream => {\r\n          cameraView.srcObject = stream\r\n          this.isRecordingScreen = !this.isRecordingScreen\r\n        }))\r\n        .catch(e => console.log(e))\r\n      }\r\n    },\r\n    startCrop(e) {\r\n      this.crop.startX = e.clientX + window.scrollX\r\n      this.crop.startY = e.clientY + window.scrollY\r\n      this.crop.active = true\r\n    },\r\n    moveCrop(e) {\r\n      if (!this.crop.active)\r\n        return\r\n      this.crop.endX = e.clientX + window.scrollX\r\n      this.crop.endY = e.clientY + window.scrollY\r\n      // console.log(this.crop)\r\n\r\n      const cropMask = document.getElementById('crop-mask')\r\n      cropMask.style.top = Math.min(this.crop.startY, this.crop.endY) + 'px'\r\n      cropMask.style.left = Math.min(this.crop.startX, this.crop.endX) + 'px'\r\n      cropMask.style.height = Math.abs(this.crop.endY - this.crop.startY) + 'px'\r\n      cropMask.style.width = Math.abs(this.crop.endX - this.crop.startX) + 'px'\r\n      cropMask.style.display = 'initial'\r\n    },\r\n    endCrop(e) {\r\n      if(!this.crop.active)\r\n        return\r\n      this.crop.endX = e.clientX + window.scrollX\r\n      this.crop.endY = e.clientY + window.scrollY\r\n      this.handleTakeCropPicture()\r\n      this.cancelCrop()\r\n    },\r\n    cancelCrop(){\r\n      if(!this.crop.active)\r\n        return\r\n      const cropMask = document.getElementById('crop-mask')\r\n      cropMask.style.display = 'none'\r\n      this.crop.active = false\r\n    },\r\n    handleTakeCropPicture() {\r\n      // console.log(this.crop)\r\n      const canvas = document.getElementById('canvas')\r\n      canvas.width = Math.abs(this.crop.endX - this.crop.startX)\r\n      canvas.height = Math.abs(this.crop.endY - this.crop.startY)\r\n\r\n      const cameraView = document.getElementById('camera-view')\r\n      const {x, y, width, height} = cameraView.getBoundingClientRect()\r\n\r\n      const videoBasisSx = ((Math.min(this.crop.startX, this.crop.endX) - x - window.scrollX) * cameraView.videoWidth) / width\r\n      const videoBasisSy = ((Math.min(this.crop.startY, this.crop.endY) - y - window.scrollY) * cameraView.videoHeight) / height\r\n      const videoBasisWidth = (canvas.width * cameraView.videoWidth) / width\r\n      const videoBasisHeight = (canvas.height * cameraView.videoHeight) / height\r\n      canvas.getContext('2d')\r\n        .drawImage(\r\n          cameraView, \r\n          videoBasisSx, \r\n          videoBasisSy, \r\n          videoBasisWidth,\r\n          videoBasisHeight,\r\n          0,\r\n          0,\r\n          canvas.width, \r\n          canvas.height\r\n        )\r\n      const dataURL = canvas.toDataURL()\r\n\r\n      this.$emit('sendImage', dataURL)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-picture{\r\n  color: black;\r\n  border-radius: 8px;\r\n  border: 1px solid black;\r\n  background: white;\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n  transition: .25s all;\r\n  font-size: 16px;\r\n}\r\n\r\n@media (hover: hover) and (pointer: fine) {\r\n  .btn-picture:hover{\r\n    background: lightgray;\r\n  }\r\n}\r\n\r\n.btn-picture:active{\r\n  background: white;\r\n}\r\n\r\n#camera-view, #canvas{\r\n  max-width: calc(100vw - 20px);\r\n  margin: 0 auto;\r\n}\r\n\r\n#camera-view{\r\n  cursor: crosshair;\r\n}\r\n\r\n.code{\r\n  font-size: 20px;\r\n  margin: 10px;\r\n  font-weight: 600;\r\n}\r\n\r\n.toggle-media{\r\n  padding: 5px;\r\n  border: 2px solid orange;\r\n  margin-left: 20px;\r\n  margin-bottom: 0;\r\n}\r\n\r\n#crop-mask{\r\n  position: absolute;\r\n  background: black;\r\n  opacity: 0.3;\r\n  display: none;\r\n  pointer-events: none;\r\n  background: transparent;\r\n  box-shadow: 0 0 0 10000px white;\r\n  border: 2px solid red;\r\n  box-sizing: border-box;\r\n}\r\n</style>","import { render } from \"./Camera.vue?vue&type=template&id=4ec4db72&scoped=true\"\nimport script from \"./Camera.vue?vue&type=script&lang=js\"\nexport * from \"./Camera.vue?vue&type=script&lang=js\"\n\nimport \"./Camera.vue?vue&type=style&index=0&id=4ec4db72&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\bg200\\\\source\\\\quickDrop\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4ec4db72\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"receive-wrapper\">\r\n        <div class=\"header\">\r\n            {{displayNumPhotos()}}\r\n            <button class=\"img-btn clear-btn\" @click=\"clearAll\" v-if=\"imgDataArray.length\">\r\n                Clear\r\n            </button>\r\n            <button class=\"img-btn clear-btn\" @click=\"makePDF\" v-if=\"imgDataArray.length\">\r\n                Make PDF\r\n            </button>\r\n        </div>\r\n        <div class=\"group-flex-test\">\r\n        <TransitionGroup name=\"img-list\">\r\n            <div v-for=\"(imgData, index) of imgDataArray\" class=\"img-data-wrap\" :key=\"imgData.substring(0, 300)\">\r\n                <div>\r\n                    <img :src=\"imgData\" :ref=\"imgData.substring(0, 300)\" class=\"img-received\"/>\r\n                </div>\r\n                <div>\r\n                    <a download=\"image.png\" :href=\"imgData\" class=\"img-btn\">\r\n                        Download\r\n                    </a>\r\n                    <button class=\"img-btn\" @click=\"() => removeImg(index)\">\r\n                        Remove\r\n                    </button>\r\n                    <button class=\"img-btn\" :class=\"{'is-copied': (copyKey === imgData.substring(0, 300))}\" @click=\"() => copyImgToClipboard(index)\">\r\n                        {{(copyKey === imgData.substring(0, 300)) ? 'Copied!' : 'Copy'}}\r\n                    </button>\r\n                    <button class=\"img-btn\" @click=\"() => swapArrayValues(index, index+1)\" :disabled=\"index === imgDataArray.length - 1\">\r\n                        &dArr;\r\n                    </button>\r\n                    <button class=\"img-btn\" @click=\"() => swapArrayValues(index, index-1)\" :disabled=\"index === 0\">\r\n                        &uArr;\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </TransitionGroup>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport jsPDF from \"jspdf\";\r\nconst A4_PAPER = {\r\n  width: 210,\r\n  height: 297,\r\n}\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            imgDataArray: [],\r\n            copyKey: '',\r\n        }\r\n    },\r\n    methods: {\r\n        displayNumPhotos() {\r\n            if (this.imgDataArray.length === 0)\r\n                return 'Waiting for photo...'\r\n            if (this.imgDataArray.length === 1)\r\n                return '1 Photo'\r\n            else\r\n                return this.imgDataArray.length + ' Photos'\r\n        },\r\n        clearAll() {\r\n            this.imgDataArray = []\r\n        },\r\n        removeImg(ind) {\r\n            this.imgDataArray.splice(ind,1)\r\n        },\r\n        handleReceiveImage(imgDataSrc) {\r\n            this.imgDataArray.push(imgDataSrc)\r\n        },\r\n        copyImgToClipboard(index) {\r\n            this.copyKey = this.imgDataArray[index].substring(0, 300)\r\n            fetch(this.imgDataArray[index])\r\n            .then(res => res.blob())\r\n            .then(blob => {\r\n                navigator.clipboard.write([\r\n                    new window.ClipboardItem({\r\n                        'image/png': blob\r\n                    })\r\n                ]);\r\n            })\r\n        },\r\n        imageDimsOnA4(width, height) {\r\n            if ((width / height) > (A4_PAPER.width / A4_PAPER.height))\r\n                return [A4_PAPER.width, (height / width) * A4_PAPER.width]\r\n            else\r\n                return [(width / height) * A4_PAPER.height, A4_PAPER.height]\r\n        },\r\n        makePDF() {\r\n            const doc = new jsPDF()\r\n            doc.deletePage(1);\r\n            console.log(A4_PAPER)\r\n\r\n            this.imgDataArray.forEach((img) => {\r\n                const type = img.substring(img.indexOf('/')+1, img.indexOf(';'))\r\n                const imgW = this.$refs[img.substring(0, 300)][0].width\r\n                const imgH = this.$refs[img.substring(0, 300)][0].height\r\n                const [imgWidthScaled, imgHeightScaled] = this.imageDimsOnA4(imgW, imgH)\r\n\r\n                doc.addPage()\r\n                doc.addImage(\r\n                    img,\r\n                    type,\r\n                    (A4_PAPER.width - imgWidthScaled) / 2,\r\n                    (A4_PAPER.height - imgHeightScaled) / 2,\r\n                    imgWidthScaled,\r\n                    imgHeightScaled\r\n                )    \r\n            })\r\n            const pdfURL = doc.output(\"bloburl\");\r\n            window.open(pdfURL)\r\n            // window.open(pdfURL as any, \"_blank\");\r\n        },\r\n        swapArrayValues(ind1, ind2){\r\n            if(ind1 < 0 || ind2 < 0 || ind1 >= this.imgDataArray.length || ind2 >= this.imgDataArray.length)\r\n                return\r\n            [this.imgDataArray[ind1], this.imgDataArray[ind2]] = [this.imgDataArray[ind2], this.imgDataArray[ind1]]\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.receive-wrapper{\r\n    margin-top: 0px;\r\n}\r\n.header{\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    padding-top: 40px;\r\n    padding-bottom: 20px;\r\n    background: #ffe7cf;\r\n    box-shadow: 0 -5px 30px orange;\r\n    position: sticky;\r\n    top: 0;\r\n}\r\n.img-data-wrap{\r\n    margin-top: 20px;\r\n}\r\n.img-btn{\r\n  color: black;\r\n  border-radius: 8px;\r\n  border: 1px solid black;\r\n  background: white;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n  transition: .25s all;\r\n  text-decoration: none;\r\n  font-size: 15px;\r\n}\r\n.img-btn:hover{\r\n  background: lightgray;\r\n}\r\n.img-btn:disabled{\r\n    background: lightgray;\r\n    cursor: initial;\r\n}\r\n.clear-btn{\r\n    margin: 0;\r\n    margin-left: 20px;\r\n    border: 2px solid orange;\r\n}\r\n\r\n.img-list-move,\r\n.img-list-enter-active,\r\n.img-list-leave-active {\r\n    transition: .5s all;\r\n}\r\n\r\n.img-list-enter-from,\r\n.img-list-leave-to {\r\n    opacity: 0;\r\n    transform: scale(0,0);\r\n}\r\n\r\n.img-list-leave-active{\r\n    position: absolute;\r\n    width: 100%;\r\n}\r\n\r\n.is-copied{\r\n    padding: 5px 10px;\r\n    background: orange;\r\n    color: white;\r\n}\r\n.is-copied:hover{\r\n    background: orange;\r\n}\r\n.img-received{\r\n    max-width: 100%;\r\n}\r\n</style>","import { render } from \"./Receiver.vue?vue&type=template&id=70ecbacf&scoped=true\"\nimport script from \"./Receiver.vue?vue&type=script&lang=js\"\nexport * from \"./Receiver.vue?vue&type=script&lang=js\"\n\nimport \"./Receiver.vue?vue&type=style&index=0&id=70ecbacf&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\bg200\\\\source\\\\quickDrop\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70ecbacf\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n    <div class=\"block\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.container {\r\n  width: 160px;\r\n  height: 200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.block {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  float: left;\r\n  margin: 0 20px 20px 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  background: orange;\r\n}\r\n\r\n.block:nth-child(4n+1) { animation: wave 2s ease .0s infinite; }\r\n.block:nth-child(4n+2) { animation: wave 2s ease .2s infinite; }\r\n.block:nth-child(4n+3) { animation: wave 2s ease .4s infinite; }\r\n.block:nth-child(4n+4) { animation: wave 2s ease .6s infinite; margin-right: 0; }\r\n\r\n@keyframes wave {\r\n  0%   { top: 0;     opacity: 1; }\r\n  50%  { top: 30px;  opacity: .2; }\r\n  100% { top: 0;     opacity: 1; }\r\n}\r\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=713d081c&scoped=true\"\nconst script = {}\n\nimport \"./Loader.vue?vue&type=style&index=0&id=713d081c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\bg200\\\\source\\\\quickDrop\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-713d081c\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=5a859c09\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5a859c09&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\bg200\\\\source\\\\quickDrop\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Receiver.vue?vue&type=style&index=0&id=70ecbacf&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Camera.vue?vue&type=style&index=0&id=4ec4db72&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=5a859c09&lang=css\""],"sourceRoot":""}